<!DOCTYPE html>
<html lang="en">

<head>

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
        integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js"
        integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"
        integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo"
        crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"
        integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6"
        crossorigin="anonymous"></script>
    <script src="https://kit.fontawesome.com/f75105201e.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" type="text/css" href="MY.css">
    <link rel="stylesheet" type="text/css" href="page1.css">

    <title>Page 1</title>
</head>

<body>
    <script>
          
            var globalLevel="";
            var globalYear="";
            var globalGrade="";
            var globalName="";
            var globalRating="";

        function SubmitForm() {
            //Username Validations
            var status = true;
            var correct_way = /^[A-za-z]+$/;
            var name = document.getElementById("name").value;

            if (name=="") {
                document.getElementById("message").innerHTML = "Please fill Username";
                status = false;
            }
            if ( name !="" && name.length < 3) {
                document.getElementById("message").innerHTML = "Username must be 3 character";
                status = false;
            }
            if (name !="" && name.length > 20) {
                document.getElementById("message").innerHTML = "Username must be less than 20 character";
                status = false;
            }
            if (name !="" && !name.match(correct_way)) {
                status = false;
                document.getElementById("message").innerHTML = "Username must be alphabets";

            }
            //Email Validations
            var em = document.getElementById("email").value;

            if (em=="") {
                document.getElementById("mail").innerHTML = "Please fill Email id";
                status = false;
            }else{
                if ((em.charAt(em.length - 4) != '.') && (em.charAt(em.length - 3) != '.')) {
                document.getElementById("mail").innerHTML = " . Invalid Dot Position";
                status = false;
            }
            }

            

            //Mobile Number Validations
            var mobile = document.getElementById("phone").value;

            if (mobile=="") {
                document.getElementById("mobileNumber").innerHTML = "Please fill phone number";
                status = false;
            }

            if (mobile!="" && isNaN(mobile)) {
                document.getElementById("mobileNumber").innerHTML = "Phone Number must be digit";
                status = false;
            }
            if (mobile!="" && mobile.length != 10) {
                document.getElementById("mobileNumber").innerHTML = "Phone Number must be 10 digit";
                status = false;
            }

            //Hobbies Validations
            var hobbi = document.getElementById("hobbies").value;
            var hobbi_validate = /^[a-zA-Z0-9]+$/;

            if (hobbi=="") {
                document.getElementById("hobby").innerHTML = "Please Enter hobbies";
                status = false;
            }

            if (hobbi !="" && !hobbi.match(hobbi_validate)) {
                status = false;
                document.getElementById("hobby").innerHTML = 'Only alphanumeric is allowed';

            }

            //Photo Validations 
            var expression = /(https?:\/\/(?:www\.|(?!www))[a-zA-Z0-9][a-zA-Z0-9-]+[a-zA-Z0-9]\.[^\s]{2,}|www\.[a-zA-Z0-9][a-zA-Z0-9-]+[a-zA-Z0-9]\.[^\s]{2,}|https?:\/\/(?:www\.|(?!www))[a-zA-Z0-9]+\.[^\s]{2,}|www\.[a-zA-Z0-9]+\.[^\s]{2,})/gi;
            var photoUrl = document.getElementById('photo').value;
            if (!photoUrl.match(expression)) {
                status = false;
                document.getElementById("photo-error").innerHTML = 'Please Enter a url';
            }

            if (!status) {
                return false;
            } else {
                passValues();
            }

        }
        
      //Education Validation
        function addEducation() {
            var level = document.getElementById('level').value;
            var year = document.getElementById('year').value;
            var grade = document.getElementById('grade').value;
            globalLevel=level;
            globalYear=year;
            globalGrade=grade;

            if (year.length > 4) {
                document.getElementById("error").innerHTML = 'Year should be  4 digit'
                return false;
            }


            if (year >2021) {
                document.getElementById("error").innerHTML = 'Year should be less than 2021';
                return false;
            }
            if (year <1920) {
                document.getElementById("error").innerHTML = 'Year should be graeter than 1920';
                return false;
            }


           
            var appendHtml = `<tr> <td>${level}</td> <td>${year}</td> <td>${grade}</td>  <td><button class='btn btn-danger' onclick="removeEducation(this)">Remove</button></td> </tr>`;
            document.getElementById('table').innerHTML += appendHtml;

        }
       //Remove button
        function removeEducation(element) {
            console.log(element.parentNode.parentNode);
            element.parentNode.parentNode.remove();
        }
       //Skills 
        function addSkills() {
            var name = document.getElementById('skillName').value;
            var rating = document.getElementById('rating').value;
            globalName=name;
            globalRating=rating;
            var appendHtml = `<tr> <td>${name}</td> <td>${rating}</td>   <td><button class='btn btn-danger' onclick="removeSkills(this)">Remove</button></td> </tr>`;
            document.getElementById('table2').innerHTML += appendHtml;

        }
        function removeSkills(element) {
            console.log(element.parentNode.parentNode);
            element.parentNode.parentNode.remove();
        }

        function passValues(){
            var name = document.getElementById("name").value;
            localStorage.setItem("Name",name);
            var address = document.getElementById("address").value;
            localStorage.setItem("Address",address);            
            var em = document.getElementById("email").value;
            localStorage.setItem("Email",em);
            var mobile = document.getElementById("phone").value;
            localStorage.setItem("Phone No.",mobile);
            var hobbi = document.getElementById("hobbies").value;
          
            localStorage.setItem("Hobbies",hobbi);
            localStorage.setItem("Level",globalLevel);         
            localStorage.setItem("Year",globalYear);        
            localStorage.setItem("Grade",globalGrade);         
            localStorage.setItem("Skills",globalName);
            
            localStorage.setItem("Rating",globalRating);
            var photo = document.getElementById("photo").value;
            localStorage.setItem("Photo",photo);
            goToNextPage();
            
        }
        function goToNextPage() {
          document.location.href = "page2.html";
           }
    </script>
    <form>
        <div class="container">
            <div class="card">
                <div class="card-header">Candidate Information</div>
                <div class="card-body">
                        <div class="name">
                        <label for="name">User Name <span class="form-required">*</span></label>
                        <input type="text" id="name" placeholder="Enter your name" class="form-control">
                        <span id="message" class="text text-danger"></span>
                    </div>
                    <div class="gender">
                        <label for="gender">Gender</label><br>
                        <input type="radio" id="male" name="gender" value="male" checked>
                        <label for="male" class="male">Male</label>
                        <input type="radio" id="female" name="gender" value="female">
                        <label for="female" class="female">Female</label>
                        <input type="radio" id="other" name="gender" value="other">
                        <label for="other" class="other">Other</label>
                    </div>

                    <div class="address">
                        <label for="address">Address</label>
                        <textarea id="address" rows="4" cols="50" maxlength="150" class="form-control" placeholder="Maximum 150 Character you can enter here..."></textarea>
                    </div>
                    <div class="email">
                        <label for="email">Email <span class="form-required">*</span></label>
                        <input type="text" name="email" id="email" class="form-control" placeholder="Enter your email id">
                        <span id="mail" class="text text-danger"></span>
                    </div>
                    <div class="phone">
                        <label for="phone">Phone No. <span class="form-required">*</span></label>
                        <input type="text" id="phone" value="" class="form-control" placeholder="Enter your phone no.">
                        <span id="mobileNumber" class="text text-danger"></span>
                    </div>
                    <div class="education">
                        <label for="education">Education</label>
                        <table class="table table-bordered" id="table">

                            <tr id="heading">
                                <th>Level</th>
                                <th>Year</th>
                                <th>Grade</th>
                                <th>Action</th>
                            </tr>
                            <tr>
                                <td>
                                    <div class="form-group">

                                        <select class="form-control" id="level">
                                            <option value="">-- Select Level --</option>
                                            <option value="SSC">SSC</option>
                                            <option value="HSSC">HSSC</option>
                                            <option value="Diploma">Diploma</option>
                                            <option value="BE">BE</option>
                                            <option value="Btch">Btech</option>
                                            <option value="BCA">BCA</option>
                                            <option value="MCA">MCA</option>
                                        </select>
                                    </div>

                                </td>
                                <td>
                                    <div class="form-group">
                                        <input type="number" class="form-control" id="year">
                                        <span id="error" class="text text-danger "></span>
                                    </div>
                                </td>
                                <td>
                                    <div class="form-group">
                                        <input type="text" class="form-control" id="grade">
                                    </div>
                                </td>
                                <td><button type="button" class="btn btn-primary" onclick="addEducation()">Add</button>
                                </td>
                            </tr>
                            </table>
                    </div>
                    <div class="skills">
                        <label for="skills">Skills</label>
                        <table class="table table-bordered" id="table2">

                            <tr id="heading">
                                <th>Name</th>
                                <th>Rating</th>
                                <th>Action</th>
                            </tr>
                            <tr>
                                <td>
                                    <div class="form-group">
                                        <input type="text" class="form-control" id="skillName">
                                        <span id="error" class="text text-danger "></span>
                                    </div>
                                </td>
                                <td>
                                    <div class="form-group">

                                        <select class="form-control" id="rating">
                                            <option value="">-- Select Rating --</option>
                                            <option value="1">1</option>
                                            <option value="2">2</option>
                                            <option value="3">3</option>
                                            <option value="4">4</option>
                                            <option value="5">5</option>
                                            <option value="6">6</option>
                                            <option value="7">7</option>
                                            <option value="8">8</option>
                                            <option value="9">9</option>
                                            <option value="10">10</option>
                                        </select>
                                    </div>

                                </td>


                                <td><button type="button" class="btn btn-primary" onclick="addSkills()">Add</button>
                                </td>
                            </tr>
                        </table>
                    </div>

                    <div class="hobbies">
                        <label for="hobbies">Hobbies <span class="form-required">*</span></label>
                        <input type="text" id="hobbies" class="form-control" placeholder="Enter your hobbies">
                        <span id="hobby" class="text text-danger"></span>
                    </div>

                    <div class="photo"></div>
                    <label for="photo">Photo <span class="form-required">*</span></label>
                    <input type="text" placeholder="Link to your online photo" id="photo" class="form-control">
                    <span id="photo-error" class="text text-danger"></span>


                    <div class="submit">
                        <button type="button" id="submit" onclick="SubmitForm();"
                            class="btn btn-success">Submit</button>
                    </div>

                </div>
            </div>
        </div>
    </form>

</body>

</html>